---
title: 'A bijection from \\(\mathbb{Z}\ge 0\\) to \\(\mathbb{Q}\ge0\\) defined by recursive form'
date: 2025-09-24
permalink: /posts/2025/08/blog-post-1/
categories:
  - Mathematics
  - Number Theory
  - Continued-fractions
---

I have always seen explanations stating that there exists a bijection between \\(\mathbb{Z}_{\geq 0}\\) and \\(\mathbb{Q}_{\geq 0}\\), and that one can simply number lattice points diagonally. However, I have always wondered whether there is an easier way to express such a bijection. It turns out that if we define the function \\(f\\) as follows, it becomes a bijection.

\\[
\begin{cases}
f(0) = 0 \\\\
f(2n + 1) = \dfrac{1}{f(n)+1} & n \in \mathbb{Z}^+ \\\\
f(2n) = f(n) + 1 & n \in \mathbb{Z}^+
\end{cases}
\\]

Proof
-----

**Injectivity:** Assume that \\(f(m) = f(n)\\) for some \\(m, n \in \mathbb{N}\\). By the definition of \\(f\\), we can easily observe that for nonzero odd and even numbers, \\(0 < f(\text{odd}) \leq 1 < f(\text{even})\\). Therefore, if \\(f(m) = f(n)\\), then \\(m \equiv n \mod 2\\). If \\(m\\) and \\(n\\) are even, let \\(m' = \frac{m}{2}\\) and \\(n' = \frac{n}{2}\\); if they are odd, let \\(m' = \frac{m-1}{2}\\) and \\(n' = \frac{n-1}{2}\\).

Then by definition, we again have \\(f(m') = f(n')\\), and once more \\(m' \equiv n' \mod 2\\). Repeating this process, one of the values becomes 0. At this point, if the other is not also 0, the function values cannot be equal, which is a contradiction.

**Surjectivity:** In fact, showing surjectivity was so appealing that I prepared this omakase. We define the following:

> **Definition 1.** Suppose an integer sequence \\(\\{a_i\\}_{i \in I}\\) satisfies \\(a_i \neq 0\\) for \\(i > 0\\). We write the simple continued fraction of \\(\\{a_i\\}_i\\) as follows:
>
> \\[
> x = [a_0; a_1; \cdots] = a_0 + \cfrac{1}{a_1 + \cfrac{1}{a_2 + \cfrac{1}{\ddots}}}
> \\]

Then by the Euclidean algorithm, we can show the following:

> **Proposition 1.** Every \\(q \in \mathbb{Q}_{\geq 0}\\) can be represented as a simple continued fraction of some finite sequence \\(\\{a_i\\}_{i \in I}\\).[^1] Moreover, we can arrange it so that \\(a_0 \geq 0\\) and \\(a_i > 0\\) for \\(i > 0\\).

Now returning to the original statement, let us show that \\(f\\) is surjective. First, trivially \\(f(0) = 0\\), so we only consider nonzero elements of the range. By Proposition 1, for any \\(0 \neq p \in \mathbb{Q}_{\geq 0}\\), we can find \\(p = [a_0; \cdots; a_m]\\).[^2] If \\(m = 0\\), then \\(f(2^{p-1}) = p\\). Also, if \\(m > 0\\), the following holds, completing the proof:

\\[
f\left(2^{a_0}\left(2^{a_1}\left(2^{a_2}\left(\cdots 2^{a_{m-1}}(2a_m - 1 + 1) + 1 \cdots\right) + 1\right) + 1\right)\right) = p
\\]

---

[^1]: This representation may not be unique.
[^2]: In the case where \\(m > 0\\), we choose it so that \\(a_m \neq 1\\). If \\(a_m = 1\\), it is easy to see that \\([\cdots; a_{m-1} + 1]\\) represents the same number.
